(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,n){e.exports={overlay:"Modal_overlay__3nehz",modal:"Modal_modal__lVdJi"}},15:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__1Bc3t"}},18:function(e,t,n){e.exports={image:"ImageGalleryItem_image__vXCfT"}},19:function(e,t,n){e.exports={btn:"Button_btn__2IYdU"}},20:function(e,t,n){e.exports={btn:"IconButton_btn__3Z_38"}},26:function(e,t,n){},4:function(e,t,n){e.exports={box:"ImageGallery_box__hAsm_",gallery:"ImageGallery_gallery__3TQLH",item:"ImageGallery_item__1XmFJ",loader:"ImageGallery_loader__1Xm9z"}},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(5),o=n.n(a),i=(n(26),n(27),n(28),n(3)),l=n(9),s=n(7),u=n.n(s),b=n(1);function f(e){var t=e.forSubmit,n=Object(r.useState)(""),c=Object(i.a)(n,2),a=c[0],o=c[1];return Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim())return l.b.error("Check the correctness of the entered data, images of this category do not exist!"),void o("");t(a.trim()),o("")},className:u.a.form,children:[Object(b.jsx)("button",{type:"submit",className:u.a.btn,children:Object(b.jsx)("span",{className:u.a.btn_label,children:"Search"})}),Object(b.jsx)("input",{className:u.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a,onChange:function(e){return o(e.target.value.toLowerCase())}})]})}f.defaultProps={forSubmit:function(){return null}};var j=n(15),m=n.n(j);function d(e){var t=e.forSubmit;return Object(b.jsx)("header",{className:m.a.searchbar,children:Object(b.jsx)(f,{forSubmit:t})})}d.defaultProps={forSubmit:function(){return null}};var h=n(13),O=n(11),p=n.n(O),g=n(16),x={BASE_URL:"https://pixabay.com/api",IMAGE_TYPE:"photo",ORIENTATION:"horizontal",QUANTITY_PER_PAGE:12,KEY:"23466318-01f5a1cbd4b878b74c1a7b3b5"};function v(e){return _.apply(this,arguments)}function _(){return _=Object(g.a)(p.a.mark((function e(t){var n,r,c,a,o=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,r="".concat(x.BASE_URL,"/?image_type=").concat(x.IMAGE_TYPE,"&orientation=").concat(x.ORIENTATION,"&q=").concat(t,"&page=").concat(n,"&per_page=").concat(x.QUANTITY_PER_PAGE,"&key=").concat(x.KEY),e.next=4,fetch(r);case 4:return c=e.sent,e.next=7,c.json();case 7:return a=e.sent,e.next=10,a.hits;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}var y=n.p+"static/media/phones-tablet-2.0e5c52f5.png";function k(){return Object(b.jsx)("div",{role:"alert",children:Object(b.jsx)("img",{src:y,alt:"Pixabay"})})}var E=n(17),S=n.n(E),w=n(4),C=n.n(w);function I(){return Object(b.jsx)("div",{className:C.a.loader,children:Object(b.jsx)(S.a,{type:"Puff",color:"#3f51b5",height:500,width:500})})}var N=n.p+"static/media/error.8b3e8601.jpg";function P(e){var t=e.message;return Object(b.jsxs)("div",{role:"alert",className:C.a.loader,children:[Object(b.jsx)("img",{src:N,alt:"Error"}),Object(b.jsx)("p",{children:t})]})}P.defaultProps={message:""};var R=n(18),T=n.n(R);function A(e){var t=e.image,n=e.tags,r=e.largeImage,c=e.toClick;return Object(b.jsx)("img",{src:t,alt:n,onClick:function(){return c(r)},className:T.a.image})}var L=n(19),G=n.n(L);function U(e){var t=e.type,n=e.onClick,r=e.children;return Object(b.jsx)("button",{type:t,className:G.a.btn,onClick:n,id:"btn",children:r})}function B(e){var t=e.images,n=e.toClick,r=e.forClick;return Object(b.jsxs)("div",{className:C.a.box,children:[Object(b.jsx)("ul",{className:C.a.gallery,children:t.map((function(e){return Object(b.jsx)("li",{className:C.a.item,children:Object(b.jsx)(A,{image:e.webformatURL,tags:e.tags,largeImage:e.largeImageURL,toClick:n})},e.webformatURL)}))}),Object(b.jsx)(U,{type:"button",onClick:r,children:"Load more"})]})}U.defaultProps={onClick:function(){return null},children:null};var F="idle",M="pending",Y="resolved",J="rejected";function q(e){var t=e.imageRequest,n=e.toClick,c=Object(r.useState)([]),a=Object(i.a)(c,2),o=a[0],l=a[1],s=Object(r.useState)(1),u=Object(i.a)(s,2),f=u[0],j=u[1],m=Object(r.useState)(null),d=Object(i.a)(m,2),O=d[0],p=d[1],g=Object(r.useState)(F),x=Object(i.a)(g,2),_=x[0],y=x[1];Object(r.useEffect)((function(){""!==t&&(l([]),j(1),y(M),v(t).then((function(e){l(e),y(Y)})).catch((function(e){p(e),y(J)})))}),[t]),Object(r.useEffect)((function(){1!==f&&(y(M),v(t,f).then((function(e){l((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e))})),y(Y),document.getElementById("btn").scrollIntoView({block:"center",behavior:"smooth"})})).catch((function(e){p(e),y(J)})))}),[f]);return _===F?Object(b.jsx)(k,{}):_===M?Object(b.jsx)(I,{}):_===J?Object(b.jsx)(P,{message:O.message}):_===Y?Object(b.jsx)(B,{images:o,toClick:n,forClick:function(){j((function(e){return e+1}))}}):void 0}var z=n(12),Q=n.n(z),X=document.querySelector("#modal-root");function H(e){var t=e.forClose,n=e.children;Object(r.useEffect)((function(){var e=function(e){return"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(a.createPortal)(Object(b.jsx)("div",{className:Q.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(b.jsx)("div",{className:Q.a.modal,children:n})}),X)}var K,V=n(14),Z=n(21),D=n(20),W=n.n(D),$=["children","onClick"];function ee(e){var t=e.children,n=e.onClick,r=Object(Z.a)(e,$);return Object(b.jsx)("button",Object(V.a)(Object(V.a)({type:"button",className:W.a.btn,onClick:n},r),{},{children:t}))}ee.defaultProps={onClick:function(){return null},children:null};var te=["title","titleId"];function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ce(e,t){var n=e.title,c=e.titleId,a=re(e,te);return r.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 32 32",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"cross"):n?r.createElement("title",{id:c},n):null,K||(K=r.createElement("path",{d:"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"})))}var ae=r.forwardRef(ce);n.p,n(51);function oe(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),s=o[0],u=o[1],f=Object(r.useState)(!1),j=Object(i.a)(f,2),m=j[0],h=j[1],O=function(){h(!m)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d,{forSubmit:function(e){c(e)}}),Object(b.jsx)(q,{imageRequest:n,toClick:function(e){u(e),h(!0)}}),Object(b.jsx)(l.a,{}),m&&Object(b.jsxs)(H,{forClose:O,children:[Object(b.jsx)("img",{src:s,alt:s}),Object(b.jsx)(ee,{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:O,children:Object(b.jsx)(ae,{fill:"#fff"})})]})]})}o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(oe,{})}),document.getElementById("root"))},7:function(e,t,n){e.exports={form:"SearchForm_form__1A0Uy",btn:"SearchForm_btn__1Z-Hy",btn_label:"SearchForm_btn_label__3JRFM",input:"SearchForm_input__1P-Ip"}}},[[52,1,2]]]);
//# sourceMappingURL=main.1c55e429.chunk.js.map