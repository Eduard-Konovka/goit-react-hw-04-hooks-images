(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={overlay:"Modal_overlay__3nehz",modal:"Modal_modal__lVdJi"}},16:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1Bc3t"}},19:function(e,t,a){e.exports={image:"ImageGalleryItem_image__vXCfT"}},20:function(e,t,a){e.exports={btn:"Button_btn__2IYdU"}},21:function(e,t,a){e.exports={btn:"IconButton_btn__3Z_38"}},27:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),s=(a(27),a(28),a(29),a(3)),i=a(4),l=a(6),u=a(5),m=a(10),b=a(9),h=a.n(b),d=a(1),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imageRequest:""},e.handleRequestChange=function(t){e.setState({imageRequest:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.imageRequest.trim())return m.b.error("Check the correctness of the entered data, images of this category do not exist!"),void e.setState({imageRequest:""});e.props.forSubmit(e.state.imageRequest.trim()),e.setState({imageRequest:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("form",{onSubmit:this.handleSubmit,className:h.a.form,children:[Object(d.jsx)("button",{type:"submit",className:h.a.btn,children:Object(d.jsx)("span",{className:h.a.btn_label,children:"Search"})}),Object(d.jsx)("input",{className:h.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.imageRequest,onChange:this.handleRequestChange})]})}}]),a}(n.Component);f.defaultProps={forSubmit:function(){return null}};var p=f,g=a(16),j=a.n(g);function O(e){var t=e.forSubmit;return Object(d.jsx)("header",{className:j.a.searchbar,children:Object(d.jsx)(p,{forSubmit:t})})}O.defaultProps={forSubmit:function(){return null}};var v=a(14),y=a(12),x=a.n(y),_=a(17),k={BASE_URL:"https://pixabay.com/api",IMAGE_TYPE:"photo",ORIENTATION:"horizontal",QUANTITY_PER_PAGE:12,KEY:"23466318-01f5a1cbd4b878b74c1a7b3b5"};function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(_.a)(x.a.mark((function e(t,a){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(k.BASE_URL,"/?image_type=").concat(k.IMAGE_TYPE,"&orientation=").concat(k.ORIENTATION,"&q=").concat(t,"&page=").concat(a,"&per_page=").concat(k.QUANTITY_PER_PAGE,"&key=").concat(k.KEY),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.next=9,c.hits;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=a.p+"static/media/phones-tablet-2.0e5c52f5.png";function I(){return Object(d.jsx)("div",{role:"alert",children:Object(d.jsx)("img",{src:C,alt:"Pixabay"})})}var R=a(18),E=a.n(R),N=a(7),P=a.n(N);function q(){return Object(d.jsx)("div",{className:P.a.loader,children:Object(d.jsx)(E.a,{type:"Puff",color:"#3f51b5",height:500,width:500})})}var T=a.p+"static/media/error.8b3e8601.jpg";function A(e){var t=e.message;return Object(d.jsxs)("div",{role:"alert",className:P.a.loader,children:[Object(d.jsx)("img",{src:T,alt:"Error"}),Object(d.jsx)("p",{children:t})]})}A.defaultProps={message:""};var M=a(19),U=a.n(M),B=function(e){var t=e.image,a=e.tags,n=e.largeImage,r=e.toClick;return Object(d.jsx)("img",{src:t,alt:a,onClick:function(){return r(n)},className:U.a.image})},F=a(20),L=a.n(F);function G(e){var t=e.type,a=e.onClick,n=e.children;return Object(d.jsx)("button",{type:t,className:L.a.btn,onClick:a,id:"btn",children:n})}function Y(e){var t=e.images,a=e.toClick,n=e.forClick;return Object(d.jsxs)("div",{className:P.a.box,children:[Object(d.jsx)("ul",{className:P.a.gallery,children:t.map((function(e){return Object(d.jsx)("li",{className:P.a.item,children:Object(d.jsx)(B,{image:e.webformatURL,tags:e.tags,largeImage:e.largeImageURL,toClick:a})},e.webformatURL)}))}),Object(d.jsx)(G,{type:"button",onClick:n,children:"Load more"})]})}G.defaultProps={onClick:function(){return null},children:null};var D="idle",J="pending",K="resolved",z="rejected",Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,error:null,status:D},e.addImages=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.imageRequest,r=t.page,c=this.props.imageRequest,o=this.state.page;n!==c&&(this.setState({images:[],page:1,status:J}),setTimeout((function(){w(c,a.state.page).then((function(e){return a.setState({images:e,status:K})})).catch((function(e){return a.setState({error:e,status:z})}))}),0)),r!==o&&(this.setState({status:J}),w(n,this.state.page).then((function(e){a.setState({images:[].concat(Object(v.a)(t.images),Object(v.a)(e)),status:K}),document.getElementById("btn").scrollIntoView({block:"center",behavior:"smooth"})})).catch((function(e){return a.setState({error:e,status:z})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.error,n=e.status;return"idle"===n?Object(d.jsx)(I,{}):"pending"===n?Object(d.jsx)(q,{}):"rejected"===n?Object(d.jsx)(A,{message:a.message}):"resolved"===n?Object(d.jsx)(Y,{images:t,toClick:this.props.toClick,forClick:this.addImages}):void 0}}]),a}(n.Component),X=Q,H=a(13),V=a.n(H),Z=document.querySelector("#modal-root"),W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.forClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.forClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(d.jsx)("div",{className:V.a.overlay,onClick:this.handleBackdropClick,children:Object(d.jsx)("div",{className:V.a.modal,children:this.props.children})}),Z)}}]),a}(n.Component),$=a(15),ee=a(22),te=a(21),ae=a.n(te),ne=["children","onClick"],re=function(e){var t=e.children,a=e.onClick,n=Object(ee.a)(e,ne);return Object(d.jsx)("button",Object($.a)(Object($.a)({type:"button",className:ae.a.btn,onClick:a},n),{},{children:t}))};re.defaultProps={onClick:function(){return null},children:null};var ce,oe=re,se=["title","titleId"];function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ie.apply(this,arguments)}function le(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ue(e,t){var a=e.title,r=e.titleId,c=le(e,se);return n.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},c),void 0===a?n.createElement("title",{id:r},"cross"):a?n.createElement("title",{id:r},a):null,ce||(ce=n.createElement("path",{d:"M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"})))}var me=n.forwardRef(ue),be=(a.p,a(52),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imageRequest:"",largeImage:"",showModal:!1},e.handleFormSubmit=function(t){e.setState({imageRequest:t})},e.setTarget=function(t){e.setState({largeImage:t,showModal:!0})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.largeImage,a=e.showModal,n=this.toggleModal,r=this.setTarget;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{forSubmit:this.handleFormSubmit}),Object(d.jsx)(X,{imageRequest:this.state.imageRequest,toClick:r}),Object(d.jsx)(m.a,{}),a&&Object(d.jsxs)(W,{forClose:n,children:[Object(d.jsx)("img",{src:t,alt:t}),Object(d.jsx)(oe,{type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",onClick:n,children:Object(d.jsx)(me,{fill:"#fff"})})]})]})}}]),a}(n.Component)),he=be;o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(he,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={box:"ImageGallery_box__hAsm_",gallery:"ImageGallery_gallery__3TQLH",item:"ImageGallery_item__1XmFJ",loader:"ImageGallery_loader__1Xm9z"}},9:function(e,t,a){e.exports={form:"SearchForm_form__1A0Uy",btn:"SearchForm_btn__1Z-Hy",btn_label:"SearchForm_btn_label__3JRFM",input:"SearchForm_input__1P-Ip"}}},[[53,1,2]]]);
//# sourceMappingURL=main.7c5285cd.chunk.js.map